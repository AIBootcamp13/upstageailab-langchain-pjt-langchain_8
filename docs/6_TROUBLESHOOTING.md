# **π› λ¬Έμ  ν•΄κ²° κ°€μ΄λ“ (Troubleshooting Guide)**

μ΄ λ¬Έμ„λ” ν”„λ΅μ νΈλ¥Ό μ„¤μΉν•κ³  μ‚¬μ©ν•λ©΄μ„ λ°μƒν•  μ μλ” μΌλ°μ μΈ λ¬Έμ μ™€ ν•΄κ²° λ°©λ²•μ„ μ•λ‚΄ν•©λ‹λ‹¤.

## **1. μ„¤μΉ λ° ν™κ²½ λ¬Έμ **

### **Poetry μμ΅΄μ„± μ„¤μΉ μ‹¤ν¨ (poetry install)**

* **λ¬Έμ **: poetry install λ…λ Ήμ–΄κ°€ μ‹¤ν¨ν•λ©° ν¨ν‚¤μ§€λ¥Ό μ°Ύμ„ μ μ—†λ‹¤λ” λ“±μ μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  1. **Python λ²„μ „ ν™•μΈ**: μ‹μ¤ν…μ— μ„¤μΉλ Python λ²„μ „μ΄ 3.11 μ΄μƒμΈμ§€ ν™•μΈν•μ„Έμ”. (python --version)  
  2. **Poetry μΊμ‹ μ‚­μ **: poetry cache clear --all pypi λ…λ Ήμ–΄λ΅ μΊμ‹λ¥Ό μ‚­μ ν• ν›„ λ‹¤μ‹ μ‹λ„ν•΄λ³΄μ„Έμ”.  
  3. **pyproject.toml νμΌ ν™•μΈ**: νμΌμ΄ μ†μƒλμ§€ μ•μ•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

### **λ¨λ“μ„ μ°Ύμ„ μ μ—†μ (ModuleNotFoundError)**

* **λ¬Έμ **: poetry run streamlit run src/main.py μ‹¤ν–‰ μ‹ ModuleNotFoundError: No module named '...' μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  1. **κ°€μƒ ν™κ²½ ν™μ„±ν™”**: Poetry κ°€μƒ ν™κ²½μ΄ μ¬λ°”λ¥΄κ² ν™μ„±ν™”λμ—λ”μ§€ ν™•μΈν•μ„Έμ”. poetry shell λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ κ°€μƒ ν™κ²½μ— μ§μ ‘ μ§„μ…ν• ν›„ streamlit run src/main.pyλ¥Ό μ‹¤ν–‰ν•΄λ³΄λ” κ²ƒμ΄ κ°€μ¥ ν™•μ‹¤ν•©λ‹λ‹¤.  
  2. **μμ΅΄μ„± μ¬μ„¤μΉ**: poetry installμ„ λ‹¤μ‹ μ‹¤ν–‰ν•μ—¬ λ¨λ“  ν¨ν‚¤μ§€κ°€ μ •μƒμ μΌλ΅ μ„¤μΉλμ—λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

## **2. API ν‚¤ λ° μΈμ¦ μ¤λ¥**

### **API ν‚¤ μ„¤μ • μ¤λ¥ (ValueError: ... not set)**

* **λ¬Έμ **: μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹ ValueError: OPENAI_API_KEY not set in environment variablesμ™€ κ°™μ€ μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  1. λ£¨νΈ λ””λ ‰ν† λ¦¬μ— .env νμΌμ΄ μλ”μ§€ ν™•μΈν•μ„Έμ”. μ—†λ‹¤λ©΄ cp .env.template .env λ…λ Ήμ–΄λ΅ μƒμ„±ν•©λ‹λ‹¤.  
  2. .env νμΌμ„ μ—΄μ–΄ OPENAI_API_KEY, TAVILY_API_KEY λ“±μ λ¨λ“  ν•„μ API ν‚¤κ°€ μ¬λ°”λ¥΄κ² μ…λ ¥λμ—λ”μ§€ ν™•μΈν•μ„Έμ”. = λ’¤μ— κ³µλ°±μ΄ μ—†μ–΄μ•Ό ν•©λ‹λ‹¤.

### **GitHub μΈμ¦ μ‹¤ν¨**

* **λ¬Έμ **: GitHub Personal Access Token(PAT)μΌλ΅ μΈμ¦ μ‹ μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  * **"μ ν¨ν•μ§€ μ•μ€ Personal Access Tokenμ…λ‹λ‹¤" (401 μ¤λ¥)**:  
    * GitHubμ—μ„ ν† ν°μ΄ λ§λ£λμ—κ±°λ‚ μ‚­μ λμ§€ μ•μ•λ”μ§€ ν™•μΈν•μ„Έμ”.  
    * .env νμΌμ— ν† ν°μ„ λ³µμ‚¬/λ¶™μ—¬λ„£κΈ° ν•  λ• μ¤νƒ€κ°€ μ—†λ”μ§€ λ‹¤μ‹ ν™•μΈν•μ„Έμ”.  
  * **"Repositoryμ— λ€ν• μ“°κΈ° κ¶ν•μ΄ μ—†μµλ‹λ‹¤" (403 μ¤λ¥)**:  
    * GitHubμ—μ„ PATλ¥Ό μƒμ„±ν•  λ• repo μ¤μ½”ν”„μ— μ²΄ν¬ν–λ”μ§€ ν™•μΈν•μ„Έμ”. κ¶ν•μ΄ μ—†λ‹¤λ©΄ ν† ν°μ„ μ¬λ°κΈ‰ν•΄μ•Ό ν•©λ‹λ‹¤.  
  * **"Repositoryλ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤" (404 μ¤λ¥)**:  
    * [your-username]/[your-username].github.io ν•μ‹μ μ €μ¥μ†κ°€ GitHubμ— μ‹¤μ λ΅ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•μ„Έμ”.

## **3. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ¤λ¥**

### **PDF λ¬Έμ„ μ²λ¦¬ μ‹¤ν¨**

* **λ¬Έμ **: PDF νμΌμ„ μ—…λ΅λ“ν–μ§€λ§ μ²λ¦¬ κ³Όμ •μ—μ„ λ©μ¶”κ±°λ‚ μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  1. **PDF νμΌ ν™•μΈ**: μ—…λ΅λ“ν•λ ¤λ” PDF νμΌμ΄ μ†μƒλμ§€ μ•μ•λ”μ§€, μ•”νΈν™”λμ–΄ μμ§€ μ•μ€μ§€ ν™•μΈν•μ„Έμ”.  
  2. **νμ„ λ³€κ²½**: configs/config.yaml νμΌμ ingestion.parser κ°’μ„ λ³€κ²½ν•΄λ³΄μ„Έμ”. local(PyMuPDF)μ΄ κΈ°λ³Έκ°’μ΄μ§€λ§, λ³µμ΅ν• λ μ΄μ•„μ›ƒμ PDFλ” unstructuredκ°€ λ” ν¨κ³Όμ μΌ μ μμµλ‹λ‹¤.

### **AI μ—μ΄μ „νΈ μ‘λ‹µμ΄ λλ¦¬κ±°λ‚ μ΄μƒν•  κ²½μ°**

* **λ¬Έμ **: AIμ μ‘λ‹µ μ†λ„κ°€ λ§¤μ° λλ¦¬κ±°λ‚, μ”μ²­κ³Ό κ΄€λ ¨ μ—†λ” μ½ν…μΈ λ¥Ό μƒμ„±ν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**:  
  1. **λ¨λΈ ν™•μΈ**: configs/config.yamlμ—μ„ ν„μ¬ μ‚¬μ© μ¤‘μΈ LLMμ„ ν™•μΈν•μ„Έμ”. λ΅μ»¬ λ¨λΈ(high_gpu ν”„λ΅ν•„)μ€ μ‹μ¤ν… μ‚¬μ–‘μ— λ”°λΌ λλ¦΄ μ μμµλ‹λ‹¤.  
  2. **μ²­ν‚Ή μ„¤μ • μ΅°μ •**: λ¬Έμ„μ λ‚΄μ©μ΄ λ„λ¬΄ λ³µμ΅ν•κ² μ–½ν€ μλ‹¤λ©΄ config.yamlμ text_splitter.chunk_size κ°’μ„ μ¤„μ—¬μ„ ν…μ¤νΈν•΄λ³Ό μ μμµλ‹λ‹¤.  
  3. **ν”„λ΅¬ν”„νΈ ν™•μΈ**: prompts/prompts.yamlμ ν”„λ΅¬ν”„νΈκ°€ μλ„μ— λ§κ² μ‘μ„±λμ—λ”μ§€ ν™•μΈν•μ„Έμ”. νΉν update_promptμ JSON ν•μ‹ μ§€μ‹λ¬Έμ΄ μ†μƒλμ§€ μ•μ•λ”μ§€ μ¤‘μ”ν•©λ‹λ‹¤.

### **λ””λ²„κ·Έ λ¨λ“λ΅ μ‹¤ν–‰ν•κΈ°**

* **μƒν™©**: μ• ν”λ¦¬μΌ€μ΄μ…μ μƒμ„Έν• λ™μ‘μ„ ν™•μΈν•κ±°λ‚ μ¤λ¥μ μ›μΈμ„ μ¶”μ ν•κ³  μ‹¶μ„ λ• μ‚¬μ©ν•©λ‹λ‹¤.  
* **ν•΄κ²° λ°©λ²•**: ν„°λ―Έλ„μ—μ„ μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ—¬ κΈ°μ΅΄ Streamlit ν”„λ΅μ„Έμ¤λ¥Ό κ°•μ  μΆ…λ£ν•κ³  λ””λ²„κ·Έ λ΅κ·Έ λ λ²¨λ΅ μ¬μ‹μ‘ν•  μ μμµλ‹λ‹¤.  

```bash
  pkill -f 'streamlit run' || true; sleep 1; poetry run streamlit run src/app.py --logger.level=debug
```
  * pkill -f 'streamlit run': μ‹¤ν–‰ μ¤‘μΈ λ¨λ“  Streamlit ν”„λ΅μ„Έμ¤λ¥Ό μΆ…λ£μ‹ν‚µλ‹λ‹¤.  
  * --logger.level=debug: Streamlit λ΅κ±°λ¥Ό λ””λ²„κ·Έ λ λ²¨λ΅ μ„¤μ •ν•μ—¬ ν„°λ―Έλ„μ— λ” μƒμ„Έν• λ΅κ·Έλ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.

## **4. μμ£Ό λ¬»λ” μ§λ¬Έ (FAQ)**

### **ν™κ²½ ν”„λ΅ν•„ μ»¤λ§¨λ“ μ‚¬μ© λ°©λ²• (ENV_PROFILE=high_gpu)**

* **Q: ν™κ²½ ν”„λ΅ν•„μ„ λ³€κ²½ν•λ” μ»¤λ§¨λ“κ°€ μ΄μμ²΄μ λ§λ‹¤ λ‹¤λ¥Έκ°€μ”?**  
  * A: λ„¤, ν™κ²½ λ³€μ μ„¤μ • λ°©μ‹μ΄ μ΄μμ²΄μ λ§λ‹¤ λ‹¤λ¦…λ‹λ‹¤. λ‹¤μ ν‘λ¥Ό μ°Έκ³ ν•μ—¬ λ³ΈμΈμ μ΄μμ²΄μ μ— λ§λ” λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ„Έμ”.

| μ΄μμ²΄μ            | μ‚¬μ© μμ‹                                                         |
|------------------|-------------------------------------------------------------------|
| Linux/macOS      | `ENV_PROFILE=high_gpu poetry run streamlit run src/main.py`       |
| Windows CMD      | `set ENV_PROFILE=high_gpu && poetry run streamlit run src/main.py`|
| Windows PowerShell | `$env:ENV_PROFILE="high_gpu"; poetry run streamlit run src/main.py` |

> **μ°Έκ³ :**  
> - ν™κ²½ λ³€μκ°€ μ¬λ°”λ¥΄κ² μ „λ‹¬λμ§€ μ•μΌλ©΄ μ›ν•λ” ν”„λ΅ν•„μ΄ μ μ©λμ§€ μ•μµλ‹λ‹¤.  
> - μ»¤λ§¨λ“ μ…λ ¥ ν›„, `configs/config.yaml`μ high_gpu ν”„λ΅ν•„μ΄ μ‹¤μ λ΅ μ μ©λλ”μ§€ λ΅κ·Έ λλ” μ¶λ ¥μ—μ„ ν™•μΈν•μ„Έμ”.
> - poetry ν™κ²½μ΄ ν™μ„±ν™”λμ–΄μ•Ό ν•λ©°, streamlit λ° κΈ°νƒ€ μμ΅΄ ν¨ν‚¤μ§€κ°€ poetry ν™κ²½μ— μ„¤μΉλμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤.

**λ¬Έμ  ν•΄κ²°:**
- ν™κ²½ λ³€μκ°€ main.pyμ—μ„ μ •μƒμ μΌλ΅ μ½νλ”μ§€ ν™•μΈν•λ ¤λ©΄, main.py μƒλ‹¨μ— λ‹¤μ μ½”λ“λ¥Ό μ¶”κ°€ν•΄ μ¶λ ¥ν•΄λ³Ό μ μμµλ‹λ‹¤:
    ```python
    import os
    print("ENV_PROFILE:", os.environ.get("ENV_PROFILE"))
    ```
- νμΌ/κ²½λ΅κ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈν•μ„Έμ” (`src/main.py` κ²½λ΅μ— νμΌμ΄ μμ–΄μ•Ό ν•©λ‹λ‹¤).
- poetry ν™κ²½μ—μ„ streamlitμ΄ μ„¤μΉλμ–΄ μμ–΄μ•Ό ν•λ©°, ν•„μ”μ‹ `poetry add streamlit`μΌλ΅ μ¶”κ°€ν•μ„Έμ”.

* **Q: PDF μ™Έμ— λ‹¤λ¥Έ νμΌ(μ: DOCX, PPTX)λ„ μ‚¬μ©ν•  μ μλ‚μ”?**  
  * A: ν„μ¬ λ²„μ „μ€ PDF νμΌλ§ κ³µμ‹μ μΌλ΅ μ§€μ›ν•©λ‹λ‹¤. λ‹¤λ¥Έ νμΌ ν•μ‹μ„ μ§€μ›ν•λ ¤λ©΄ src/document_preprocessor.pyμ— ν•΄λ‹Ή νμΌμ— λ§λ” LangChain λ΅λ”λ¥Ό μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.  
* **Q: AIμ κΈ€μ“°κΈ° μ¤νƒ€μΌμ„ λ°”κΎΈκ³  μ‹¶μµλ‹λ‹¤.**  
  * A: prompts/prompts.yaml νμΌμ draft_promptμ— μλ” [Identity]μ™€ [Instructions] λ¶€λ¶„μ„ μμ •ν•μ—¬ AIμ μ—­ν• κ³Ό μ‘μ—… λ°©μ‹μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [μ„¤μ • λ° μ»¤μ¤ν„°λ§μ΄μ§• κ°€μ΄λ“](4_CUSTOMIZATION.md)λ¥Ό μ°Έκ³ ν•μ„Έμ”.
