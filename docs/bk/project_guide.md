# 가이드

```
이번 프로젝트는 팀원들간의 의사소통이 제일 중요합니다!
1. GitHub을 사용하여 소스 코드 관리 및 협업을 진행합니다.
2. 각 모듈은 클래스 기반으로 설계해야합니다.
```

## 1. Knowledge Base를 구축한 QA Engine개발

- 프로젝트 목표 : LLM API를 사용하여 수집한 문서 데이터를 기준으로 답변을 만드는 `QA Engine`을 만드는 것

**[수집할 문서 데이터 예제]**

- 웹크롤링으로 수집
- 네이버 뉴스 기사
- 정책 Q&A
- 특정 분야 tech report
- etc..

- 요구사항
    - **여러 Adavanced RAG기법**을 사용해 **Hallucination을 막고** 정확한 답변을 하는 QA Engine을 만들어주세요.
        - LangSmith를 활용해 prompt를 정량적 평가해주세요.
    - 다양하게 **chunking 방법**을 달리하여 QA성능을 높여주세요!

## 2. 특정 페르소나를 가지는 Agent 개발

- 프로젝트 목표 :
    - LangChain을 활용하여 특정 페르소나를 가지는 Generative Agents를 구축하고 이를 활용해보는 것을 목표로 합니다.
        - ❗ 1번 플젝 develop하셔도 무방합니다. ❗
    - LLM API를 사용하여 특정 캐릭터를 연기하는 ChatBot을 만드는 것입니다.
        - 나만의 여자친구, 역사속의 위인, 인플루언서 같은 특정 캐릭터.. etc

  [Generative Agents | 🦜️🔗 Langchain](https://js.langchain.com/v0.1/docs/use_cases/agent_simulations/generative_agents/)


- 요구사항
    - **캐릭터의 역할과 Role을 사전에 정의하세요**.
    - 해당 캐릭터는 전문적인 역할을 할 수도 있고, 특정 캐릭터가 될 수도 있으므로 해당 캐릭터를 연기하기 위해서 관련 데이터가 필요합니다.
    - 해당 데이터를 기반으로 좀 더 사실적으로 답변하려면 **RAG** 기술이 필요합니다. 살아있는 캐릭터를 만들어서 편하게 대화할 수 있는 agent를 만들어보세요.
    - 그리고 각 캐릭터에게 행동 양식을 제공하여, 시나리오대로 행동할 수 있게 workflow를 제작하세요. 예를 들어 캐릭터에게 도서관에 가서 파이썬 관련된 책을 찾아오라고 했을 때는 다음과 같이 행동할 수
      있습니다.

    ```
    1. 도서관에 가는 길 찾기
    2. 도서관에 도착해서 책 찾는 곳 찾기
    3. 책이 있는 곳 검색하기
    4. 책 가져오기
    5. 집으로 돌아오기
    ```

### Requirements

1. **개발 언어**: 전체 프로젝트는 Python으로 개발됩니다.
2. **API 사용**: **openai API**와 **solar API**를 통해 LLM의 답변을 받습니다. 아래 pricing을 참고하세요.
    1. [https://platform.openai.com/docs/models](https://platform.openai.com/docs/models)
    2. [https://www.upstage.ai/pricing](https://www.upstage.ai/pricing)
3. **모듈 구조**: 프로젝트는 최소 다섯개 이상의 모듈로 구성됩니다. **모듈을 어떻게 디자인할 것인지**가 굉장히 중요합니다. QA Engine 개발에 필요한 필수 모듈들을 디자인해보세요.
   (다음은 예시이며, 기획 단계에서 어떻게 구현할지 팀 단위로 고민해보세요. 아래 구성 방식을 따를 필요는 없습니다)
    - `main`: 애플리케이션의 메인 실행 흐름을 제어합니다. **(main은 필수로 포함합니다)**
    - `llm` : LLM API를 호출하고, response를 받는 역할을 합니다. request / response할 형식을 정하는 역할을 합니다.
    - `vector-store` : RAG를 구축하기 위해서, 텍스트 데이터를 Split하고 Vector DB에 store하는 역할을 합니다.
    - `retriever`: Vector DB에서 사용자 입력과 연관된 Knowledge를 찾는 검색하는 역할을 합니다.
    - `crawler` : KB를 구축하는데 필요한 문서 데이터를 수집하는 역할을 합니다.
    - `chat_history` : user input과 LLM answer를 기반으로 답변을 얼마나 저장하고 답변을 생성할지 결정하는 역할을 합니다.
    - `sql` : sqlite나 MySQL을 사용하기 위해서 RDBMS를 연동하고, SQL을 처리하는 역할을 합니다.
    - `logger` : 실행되면서 기록되는 내용들을 저장합니다.
4. **오픈소스 라이브러리 사용 :** 사용할 수 있는 오픈소스에 제한은 없습니다.
5. **SLM 사용** : openai API, solar API가 아닌 huggingface에 올라와있는 다른 라이브러리를 사용할 수 있습니다. 다만, 이번 프로젝트가 언어 모델 개발에 포커스가 있는 것이
   아니니, 비용 절감이나 모델 비교를 위해서만 고려해주세요.
6. **코드 협업**: GitHub를 사용하여 소스 코드 관리 및 협업을 진행합니다. 각 모듈별로 브랜치를 나누어 개발하고, Pull Request를 통해 코드 리뷰를 수행합니다. 모든 팀원이 최소한 1번 이상
   PR을 수행하여 프로젝트의 Contributor로 참여해야 합니다.
7. **클래스 사용**: 각 모듈은 클래스 기반으로 설계합니다. **main.py**에선 모든 모듈을 불러와서 전체적인 기능을 한번에 수행합니다.

### 필수 기능 (기능적 requirements)

1. API를 통해 답변이 제대로 생성되었는지 확인하는 기능
2. LLM의 답변을 의도대로 생성하기 위해 System Prompt를 테스트하는 기능

   2-1. QA Engine 주제에서는 System Prompt는 선택입니다.

   **2-2. ChatBot 주제에서는 System Prompt가 메인입니다.**

3. RAG를 하기 위해 데이터를 VectorDB에 저장하는 기능

   **3-1. QA Engine 주제에서는 RAG가 메인입니다.**

   3-2. ChatBot 주제에서는 RAG는 선택입니다.

4. Langchain를 통해 사용자 입력과 적절한 Knowledge를 추출하는 기능
5. main.py를 통해서 나머지 모듈들을 불러와서 한번에 실행하는 기능
6. Chat History를 기억하여 지정한 페르소나, 주어진 역할, 답변의 출력 양식등을 유지하는 기능

   6-1. QA Engine 주제에서는 5번 이상 기억하면 됩니다.

   6-2. ChatBot 주제에서는 **20번 이상** 기억해야합니다.
   (User와 Agent의 답변 모두를 저장할지, 요약하여 저장할지 등등은 디자인 이슈)

### 평가

1. **기능 구현 완성도 (30점)**
    - 주어진 요구 사항에 맞춰 모든 기능이 정상적으로 작동하는지 평가합니다.
    - 기능을 구현하기 위해 기획 단계에서 설계가 제대로 되었는지 평가합니다.
    - 필수 기능이 모두 구현되었는지 확인합니다.
    - README.md에 코드의 실행 방법과 프로젝트에 대한 설명이 제대로 기술되었는지 평가합니다.
    - 발표에서 프로젝트에 전반적인 내용을 논리적으로 기술하는지 평가합니다.
2. **LLM 프롬프트 설계 및 최적화 역량 (20점)**
    - 코드가 명확하고 가독성이 좋은지 평가합니다.
    - 프로젝트 목표에 맞는 적절한 프롬프트를 설계하여 LLM의 성능을 효과적으로 끌어냈는가?
    - 다양한 프롬프트 엔지니어링 기법(CoT, ReAcT)을 통해 응답 품질을 최적화하고, 다양한 시나리오에서 일관된 성과를 냈는가?
3. 데이터 처리 및 전처리 역량 (20점)
    - LLM 어플리케이션에 필요한 텍스트 데이터를 수집하고, 전처리 과정을 통해 분석 및 모델링에 적합한 형태로 성공적으로 준비했는가?
    - 데이터 정제, 토큰화, 패딩 등 전처리 작업이 체계적이고 효율적으로 이루어졌는가?
4. **어플리케이션 인터페이스 설계 및 코드품질 (15점)**
    - Streamlit 또는 유사한 도구를 사용하여 LLM 기반 어플리케이션의 결과를 직관적으로 시각화하고, 사용자 친화적인 UI/UX를 설계했는가?
    - 애플리케이션에서 발생할 수 있는 오류를 적절히 처리하고 있는지 평가합니다.
    - 예측 가능한 예외 상황을 적절히 대응하고 서비스가 안정적으로 운용될 수 있는지 평가합니다.
    - 반복되는 코드를 피하고 함수를 적절히 사용하여 중복을 최소화한 정도를 평가합니다.
    - 기능을 수행하는 적절한 모듈 단위로 디자인 되었는지 평가합니다.
5. **팀워크 및 협업 (15점)**
    - 팀원 간의 협업 과정이 원활 했는지 평가합니다.
    - 깃에 기록된 커밋을 참고하여 각 팀원의 기여도와 협업 수준을 확인합니다.
    - 모든 팀원이 반드시 Contributor로 참여해야합니다.
